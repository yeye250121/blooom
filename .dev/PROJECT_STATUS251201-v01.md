# Blooom í”„ë¡œì íŠ¸ í˜„í™©

> ìµœì¢… ì—…ë°ì´íŠ¸: 2025-12-01

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

KT CCTV ì„¤ì¹˜ ìƒë‹´/ì˜ˆì•½ í”Œë«í¼ìœ¼ë¡œ, ëœë”©í˜ì´ì§€ë¥¼ í†µí•œ ê³ ê° ë¬¸ì˜ ì ‘ìˆ˜ì™€ íŒŒíŠ¸ë„ˆ(ë§ˆì¼€í„°) ê´€ë¦¬ ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤.

### ê¸°ìˆ  ìŠ¤íƒ
- **Frontend**: Next.js 14 (App Router), TypeScript, Tailwind CSS
- **Backend**: Next.js API Routes
- **Database**: Supabase (PostgreSQL)
- **Storage**: Supabase Storage (ì„œë¥˜ ì´ë¯¸ì§€ ì—…ë¡œë“œ)
- **Deployment**: Vercel

---

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
app/
â”œâ”€â”€ [code]/                    # íŒŒíŠ¸ë„ˆ ì½”ë“œë³„ ëœë”©í˜ì´ì§€ (ë™ì  ë¼ìš°íŠ¸)
â”œâ”€â”€ landing/                   # ëœë”©í˜ì´ì§€
â”‚   â”œâ”€â”€ components/            # ëœë”© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ ReservationForm.tsx  # ì˜ˆì•½/ìƒë‹´ í¼ (í•µì‹¬)
â”‚   â”œâ”€â”€ api/inquiry/           # ë¬¸ì˜ ë“±ë¡ API
â”‚   â”œâ”€â”€ policies/              # ì•½ê´€ í˜ì´ì§€
â”‚   â””â”€â”€ types/                 # íƒ€ì… ì •ì˜
â”‚
â”œâ”€â”€ admin/                     # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”œâ”€â”€ login/                 # ê´€ë¦¬ì ë¡œê·¸ì¸
â”‚   â”œâ”€â”€ dashboard/             # ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ inquiries/             # ë¬¸ì˜ ê´€ë¦¬ â­
â”‚   â”œâ”€â”€ partners/              # íŒŒíŠ¸ë„ˆ ê´€ë¦¬
â”‚   â”œâ”€â”€ guides/                # ê°€ì´ë“œ ê´€ë¦¬
â”‚   â””â”€â”€ settlements/           # ì •ì‚° ê´€ë¦¬
â”‚
â”œâ”€â”€ partners/                  # íŒŒíŠ¸ë„ˆ í˜ì´ì§€
â”‚   â”œâ”€â”€ login/                 # íŒŒíŠ¸ë„ˆ ë¡œê·¸ì¸
â”‚   â”œâ”€â”€ register/              # íŒŒíŠ¸ë„ˆ ê°€ì…
â”‚   â”œâ”€â”€ home/                  # íŒŒíŠ¸ë„ˆ í™ˆ
â”‚   â”œâ”€â”€ inquiries/             # ë¬¸ì˜ ëª©ë¡ â­
â”‚   â”œâ”€â”€ guides/                # ê°€ì´ë“œ ì—´ëŒ
â”‚   â”œâ”€â”€ settlements/           # ì •ì‚° ë‚´ì—­
â”‚   â””â”€â”€ my/                    # ë§ˆì´í˜ì´ì§€
â”‚
â””â”€â”€ api/                       # API ë¼ìš°íŠ¸
    â”œâ”€â”€ admin/                 # ê´€ë¦¬ì API
    â”œâ”€â”€ auth/                  # íŒŒíŠ¸ë„ˆ ì¸ì¦
    â”œâ”€â”€ inquiries/             # ë¬¸ì˜ CRUD
    â”œâ”€â”€ reservation/           # ì˜ˆì•½ ê´€ë ¨
    â”‚   â”œâ”€â”€ blocked-dates/     # ì˜ˆì•½ ë¶ˆê°€ì¼ ê´€ë¦¬
    â”‚   â””â”€â”€ upload/            # ì„œë¥˜ ì—…ë¡œë“œ
    â””â”€â”€ guides/                # ê°€ì´ë“œ ì¡°íšŒ
```

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì£¼ìš” í…Œì´ë¸”

#### `inquiries` (ë¬¸ì˜)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| phone_number | text | ì—°ë½ì²˜ |
| install_location | text | ì„¤ì¹˜ ìœ„ì¹˜ |
| install_count | int | ì„¤ì¹˜ ëŒ€ìˆ˜ (ìƒë‹´ìš©) |
| marketer_code | text | ë‹´ë‹¹ íŒŒíŠ¸ë„ˆ ì½”ë“œ |
| status | text | ìƒíƒœ (new/in_progress/contracted/cancelled) |
| inquiry_type | text | ìœ í˜• (consultation/installation) |
| reservation_date | date | ì˜ˆì•½ ë‚ ì§œ |
| reservation_time_slot | text | ì‹œê°„ëŒ€ (morning/afternoon) |
| outdoor_count | int | ì•¼ì™¸ ì„¤ì¹˜ ëŒ€ìˆ˜ |
| indoor_count | int | ì‹¤ë‚´ ì„¤ì¹˜ ëŒ€ìˆ˜ |
| address | text | ì£¼ì†Œ |
| address_detail | text | ìƒì„¸ ì£¼ì†Œ |
| zonecode | text | ìš°í¸ë²ˆí˜¸ |
| documents | jsonb | ì²¨ë¶€ ì„œë¥˜ {idCard: url, paymentCard: url, ...} |
| documents_submitted | boolean | ì„œë¥˜ ì œì¶œ ì—¬ë¶€ |
| submitted_at | timestamp | ì ‘ìˆ˜ì¼ |

#### `users` (íŒŒíŠ¸ë„ˆ)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| unique_code | text | ê³ ìœ  íŒŒíŠ¸ë„ˆ ì½”ë“œ |
| nickname | text | ë‹‰ë„¤ì„ |
| referrer_code | text | ì¶”ì²œì¸(ìƒìœ„ íŒŒíŠ¸ë„ˆ) ì½”ë“œ |
| phone | text | ì—°ë½ì²˜ |
| bank_name | text | ì€í–‰ëª… |
| account_number | text | ê³„ì¢Œë²ˆí˜¸ |

#### `reservation_blocked_dates` (ì˜ˆì•½ ë¶ˆê°€ì¼)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| blocked_date | date | ë¶ˆê°€ ë‚ ì§œ |
| reason | text | ì‚¬ìœ  |

#### `admins` (ê´€ë¦¬ì)
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | uuid | PK |
| username | text | ì•„ì´ë”” |
| password_hash | text | ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ |

---

## âœ… ì™„ë£Œëœ ê¸°ëŠ¥

### ëœë”©í˜ì´ì§€
- [x] ìƒë‹´ ì‹ ì²­ í¼ (ì „í™”ë²ˆí˜¸, ì„¤ì¹˜ìœ„ì¹˜, ìˆ˜ëŸ‰)
- [x] ì„¤ì¹˜ ì˜ˆì•½ í¼ (ë‚ ì§œ, ì‹œê°„, ì•¼ì™¸/ì‹¤ë‚´ ìˆ˜ëŸ‰, ì£¼ì†Œ)
- [x] ì„œë¥˜ ì²¨ë¶€ (ì‹ ë¶„ì¦, ê²°ì œìˆ˜ë‹¨) - Supabase Storage
- [x] ì˜ˆì•½ ë¶ˆê°€ì¼ ìº˜ë¦°ë” ì—°ë™
- [x] í† ìŠ¤ ìŠ¤íƒ€ì¼ UI/UX

### ê´€ë¦¬ì í˜ì´ì§€
- [x] ë¡œê·¸ì¸/ì¸ì¦
- [x] ëŒ€ì‹œë³´ë“œ (í†µê³„)
- [x] ë¬¸ì˜ ê´€ë¦¬
  - [x] ë¬¸ì˜ ëª©ë¡ (ìœ í˜•, ì˜ˆì•½ì¼, ìƒíƒœ í•„í„°)
  - [x] ìƒíƒœ ë³€ê²½ (ì‹ ê·œ/ìƒë‹´ì¤‘/ê³„ì•½ì™„ë£Œ/ì·¨ì†Œ)
  - [x] ì„œë¥˜ í™•ì¸ (í† ê¸€ ë¯¸ë¦¬ë³´ê¸°, ë‹¤ìš´ë¡œë“œ)
  - [x] ë¬¸ì˜ ì‚­ì œ
- [x] íŒŒíŠ¸ë„ˆ ê´€ë¦¬
- [x] ê°€ì´ë“œ ê´€ë¦¬ (WYSIWYG ì—ë””í„°)
- [x] ì •ì‚° ê´€ë¦¬

### íŒŒíŠ¸ë„ˆ í˜ì´ì§€
- [x] ë¡œê·¸ì¸/íšŒì›ê°€ì…
- [x] í™ˆ (ë³¸ì¸ + í•˜ìœ„ íŒŒíŠ¸ë„ˆ ë¬¸ì˜ í˜„í™©)
- [x] ë¬¸ì˜ ëª©ë¡
  - [x] ë³¸ì¸/í•˜ìœ„ íŒŒíŠ¸ë„ˆ ë¬¸ì˜ ì¡°íšŒ
  - [x] ìƒíƒœ/ìœ í˜• í•„í„°
  - [x] ìƒíƒœ ë³€ê²½ (ë³¸ì¸ ë¬¸ì˜ë§Œ)
  - [x] ì„œë¥˜ ìœ í˜• í‘œì‹œ (ë‚´ìš© ì—´ëŒ ë¶ˆê°€)
- [x] ê°€ì´ë“œ ì—´ëŒ
- [x] ì •ì‚° ë‚´ì—­
- [x] ë§ˆì´í˜ì´ì§€

---

## ğŸš§ ì§„í–‰ ì˜ˆì • ê¸°ëŠ¥

### ë†’ì€ ìš°ì„ ìˆœìœ„
- [ ] ê´€ë¦¬ì - ì˜ˆì•½ ë¶ˆê°€ì¼ ê´€ë¦¬ í™”ë©´
- [ ] SMS ë°œì†¡ ì—°ë™
  - ì˜ˆì•½ ì ‘ìˆ˜ í™•ì¸ ì•Œë¦¼
  - ì˜ˆì•½ì¼ ë¦¬ë§ˆì¸ë”

### ì¤‘ê°„ ìš°ì„ ìˆœìœ„
- [ ] ê´€ë¦¬ì ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ (ê°€ì´ë“œ ë¶„ë¥˜)
- [ ] íŒŒíŠ¸ë„ˆ í†µê³„/ë¦¬í¬íŠ¸

### ë‚®ì€ ìš°ì„ ìˆœìœ„
- [ ] ì´ë©”ì¼ ì•Œë¦¼
- [ ] í‘¸ì‹œ ì•Œë¦¼

---

## ğŸ”§ API ì—”ë“œí¬ì¸íŠ¸

### ë¬¸ì˜ ê´€ë ¨
| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/inquiries` | íŒŒíŠ¸ë„ˆ ë¬¸ì˜ ëª©ë¡ |
| PATCH | `/api/inquiries/[id]` | ë¬¸ì˜ ìƒíƒœ ë³€ê²½ |
| GET | `/api/admin/inquiries` | ê´€ë¦¬ì ë¬¸ì˜ ëª©ë¡ |
| PUT | `/api/admin/inquiries/[id]` | ê´€ë¦¬ì ë¬¸ì˜ ìˆ˜ì • |
| DELETE | `/api/admin/inquiries/[id]` | ê´€ë¦¬ì ë¬¸ì˜ ì‚­ì œ |
| POST | `/landing/api/inquiry` | ë¬¸ì˜ ë“±ë¡ |

### ì˜ˆì•½ ê´€ë ¨
| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/reservation/blocked-dates` | ì˜ˆì•½ ë¶ˆê°€ì¼ ì¡°íšŒ |
| POST | `/api/reservation/blocked-dates` | ì˜ˆì•½ ë¶ˆê°€ì¼ ë“±ë¡ |
| DELETE | `/api/reservation/blocked-dates` | ì˜ˆì•½ ë¶ˆê°€ì¼ ì‚­ì œ |
| POST | `/api/reservation/upload` | ì„œë¥˜ ì—…ë¡œë“œ |

### ì¸ì¦ ê´€ë ¨
| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/api/auth/login` | íŒŒíŠ¸ë„ˆ ë¡œê·¸ì¸ |
| POST | `/api/auth/register` | íŒŒíŠ¸ë„ˆ ê°€ì… |
| GET | `/api/auth/me` | ë‚´ ì •ë³´ |
| POST | `/api/admin/auth/login` | ê´€ë¦¬ì ë¡œê·¸ì¸ |

---

## ğŸ“ ì£¼ìš” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

### ë¬¸ì˜ ìœ í˜•
- **ìƒë‹´ (consultation)**: ì „í™” ìƒë‹´ ìš”ì²­, ì„¤ì¹˜ ìˆ˜ëŸ‰ë§Œ ì…ë ¥
- **ì„¤ì¹˜ì˜ˆì•½ (installation)**: ì§ì ‘ ì˜ˆì•½, ë‚ ì§œ/ì‹œê°„/ì£¼ì†Œ/ì„œë¥˜ í•„ìš”

### ì„œë¥˜ ì¢…ë¥˜
- `idCard`: ì‹ ë¶„ì¦
- `paymentCard`: ê²°ì œìˆ˜ë‹¨
- `businessLicense`: ì‚¬ì—…ìë“±ë¡ì¦ (ì„ íƒ)

### íŒŒíŠ¸ë„ˆ ê¶Œí•œ
- ë³¸ì¸ ë¬¸ì˜: ìƒíƒœ ë³€ê²½ ê°€ëŠ¥
- í•˜ìœ„ íŒŒíŠ¸ë„ˆ ë¬¸ì˜: ì¡°íšŒë§Œ ê°€ëŠ¥
- ì„œë¥˜ ë‚´ìš©: ì—´ëŒ ë¶ˆê°€ (ìœ í˜•ë§Œ í‘œì‹œ)

### ê´€ë¦¬ì ê¶Œí•œ
- ëª¨ë“  ë¬¸ì˜ ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ
- ì„œë¥˜ ë¯¸ë¦¬ë³´ê¸°/ë‹¤ìš´ë¡œë“œ
- íŒŒíŠ¸ë„ˆ ê´€ë¦¬
- ê°€ì´ë“œ/ì •ì‚° ê´€ë¦¬

---

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ

Tailwind CSS ì»¤ìŠ¤í…€ í…Œë§ˆ ì ìš© (`tailwind.config.ts`)

### ì£¼ìš” ìƒ‰ìƒ
- `action-primary`: ë©”ì¸ ì•¡ì…˜ ìƒ‰ìƒ (ë²„íŠ¼, ë§í¬)
- `bg-primary`: ë°°ê²½ ê¸°ë³¸
- `bg-card`: ì¹´ë“œ ë°°ê²½
- `text-primary/secondary/tertiary`: í…ìŠ¤íŠ¸ ê³„ì¸µ
- `status-new/progress/done/cancelled`: ìƒíƒœ ìƒ‰ìƒ

### ì»´í¬ë„ŒíŠ¸
- `rounded-card`: ì¹´ë“œ ëª¨ì„œë¦¬
- `rounded-button`: ë²„íŠ¼ ëª¨ì„œë¦¬
- ë°˜ì‘í˜•: `lg:` ê¸°ì¤€ ë°ìŠ¤í¬íƒ‘/ëª¨ë°”ì¼ ë¶„ë¦¬

---

## ğŸ” í™˜ê²½ ë³€ìˆ˜

```env
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
JWT_SECRET=
ADMIN_JWT_SECRET=
```

---

## ğŸ“Œ ì°¸ê³ ì‚¬í•­

1. **Supabase Storage ë²„í‚·**: `inquiry-documents` (ì„œë¥˜ ì €ì¥)
2. **Signed URL ìœ íš¨ê¸°ê°„**: 7ì¼
3. **íŒŒì¼ ì—…ë¡œë“œ ì œí•œ**: 10MB, JPG/PNG/WebP/PDFë§Œ í—ˆìš©
4. **ì˜ˆì•½ ê°€ëŠ¥ ì‹œê°„ëŒ€**: ì˜¤ì „(morning), ì˜¤í›„(afternoon)
